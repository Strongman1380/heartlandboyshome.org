<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Staff Training & Resources - Heartland Boys Home</title>
    <meta name="description" content="Internal staff training resources and updates for Heartland Boys Home team members.">
    
    <!-- Prevent search engine crawling -->
    <meta name="robots" content="noindex, nofollow, noarchive, nosnippet, noimageindex">
    <meta name="googlebot" content="noindex, nofollow, noarchive, nosnippet, noimageindex">
    <meta name="bingbot" content="noindex, nofollow, noarchive, nosnippet, noimageindex">
    
    <!-- Additional Security Headers -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="referrer" content="no-referrer">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Note: X-Frame-Options and CSP frame-ancestors should be set via HTTP headers on server -->
    
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* Security: Hide all content until authenticated */
        body {
            background: #1a1a1a !important;
        }
        
        .page-content {
            display: none !important;
        }
        
        /* Show loading state */
        body:not(.authenticated) {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        body:not(.authenticated)::before {
            content: "Loading...";
            color: #666;
            font-family: 'Inter', sans-serif;
            font-size: 1.2rem;
        }
        
        /* Only show content after authentication */
        body.authenticated {
            visibility: visible !important;
            opacity: 1 !important;
            background: var(--bg-light) !important;
        }
        
        body.authenticated .page-content {
            display: block !important;
        }
        
        /* Training-specific styles */
        .training-hero {
            background: linear-gradient(135deg, var(--primary-red) 0%, var(--secondary-red) 100%);
            color: var(--white);
            padding: 80px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .training-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.05)"/><circle cx="20" cy="80" r="0.5" fill="rgba(255,255,255,0.05)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }
        
        .training-hero-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .training-hero h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .training-hero p {
            font-size: 1.3rem;
            margin-bottom: 30px;
            opacity: 0.95;
        }
        
        .training-intro {
            padding: 60px 0;
            background: var(--light-gray);
        }
        
        .training-intro-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
            font-size: 1.2rem;
            line-height: 1.8;
            color: var(--text-dark);
        }
        
        .training-section {
            padding: 60px 0;
        }
        
        .training-section:nth-child(even) {
            background: var(--light-gray);
        }
        
        .section-title {
            font-size: 2.5rem;
            font-weight: 600;
            margin-bottom: 40px;
            color: var(--primary-red);
            text-align: center;
        }
        
        .training-card {
            background: var(--white);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .training-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
        }
        
        .training-card h3 {
            color: var(--primary-red);
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .training-card p {
            color: var(--text-gray);
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .training-card .date-time {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 15px;
        }
        
        .resource-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .resource-card {
            background: var(--white);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border-left: 4px solid var(--primary-yellow);
        }
        
        .resource-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .resource-card h4 {
            color: var(--primary-red);
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .calendar-widget {
            background: var(--white);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            margin-top: 30px;
            text-align: center;
        }
        
        .calendar-placeholder {
            background: var(--light-gray);
            height: 300px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-gray);
            font-style: italic;
        }
        
        .feedback-form {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-dark);
        }
        
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--border-light);
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-red);
        }
        
        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .compliance-footer {
            background: var(--text-dark);
            color: var(--white);
            padding: 40px 0;
            text-align: center;
        }
        
        .compliance-footer p {
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
            opacity: 0.9;
        }
        
        .staff-only-badge {
            display: inline-block;
            background: var(--primary-yellow);
            color: var(--text-dark);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 20px;
        }
        
        .training-courses-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .course-icon {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .course-icon i {
            font-size: 3rem;
            color: var(--primary-red);
            background: var(--bg-light);
            padding: 20px;
            border-radius: 50%;
            width: 80px;
            height: 80px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .training-card h3 {
            text-align: center;
            color: var(--text-dark);
            margin-bottom: 15px;
            font-size: 1.2rem;
            font-weight: 600;
            line-height: 1.4;
            min-height: 3.4rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .course-description {
            text-align: center;
            color: var(--text-gray);
            line-height: 1.6;
            margin-bottom: 25px;
            font-size: 0.95rem;
        }
        
        .course-button {
            display: inline-block;
            background: var(--primary-red);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            text-align: center;
            width: 100%;
            box-sizing: border-box;
        }
        
        .course-button:hover {
            background: var(--secondary-red);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(220, 38, 38, 0.3);
            color: white;
            text-decoration: none;
        }
        
        .course-button i {
            margin-right: 8px;
        }
        

        
        @media (max-width: 768px) {
            .training-hero {
                padding: 60px 0;
            }
            
            .training-hero h1 {
                font-size: 2.5rem;
            }
            
            .training-hero p {
                font-size: 1.1rem;
            }
            
            .training-courses-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .resource-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .training-section {
                padding: 40px 0;
            }
            
            .course-icon i {
                font-size: 2.5rem;
                width: 70px;
                height: 70px;
                padding: 15px;
            }
            
            .training-card h3 {
                font-size: 1.1rem;
                min-height: auto;
                line-height: 1.3;
            }
            
            .course-description {
                font-size: 0.9rem;
            }
            
            .course-button {
                padding: 14px 20px;
                font-size: 1rem;
            }
            
            .feedback-form {
                padding: 20px;
            }
            
            .container {
                padding: 0 15px;
            }
        }
        
        @media (max-width: 480px) {
            .training-hero {
                padding: 40px 0;
            }
            
            .training-hero h1 {
                font-size: 2rem;
            }
            
            .training-hero p {
                font-size: 1rem;
            }
            
            .training-courses-grid {
                gap: 15px;
            }
            
            .training-card {
                padding: 20px;
            }
            
            .course-icon i {
                font-size: 2rem;
                width: 60px;
                height: 60px;
                padding: 12px;
            }
            
            .training-card h3 {
                font-size: 1rem;
                min-height: auto;
                line-height: 1.2;
            }
            
            .course-description {
                font-size: 0.85rem;
                margin-bottom: 20px;
            }
            
            .course-button {
                padding: 12px 18px;
                font-size: 0.95rem;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .feedback-form {
                padding: 15px;
            }
            
            .container {
                padding: 0 10px;
            }
            
            /* Mobile password overlay adjustments */
            #password-overlay .fas.fa-lock {
                font-size: 2.5rem !important;
            }
            
            #password-overlay h2 {
                font-size: 1.5rem !important;
            }
            
            #password-overlay p {
                font-size: 0.9rem !important;
            }
            
            #password-overlay div[style*="padding: 40px"] {
                padding: 30px 20px !important;
            }
        }

        /* Password Overlay Styles */
        #password-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-red) 0%, var(--secondary-red) 100%);
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Inter', sans-serif;
        }
        .password-prompt-box {
            background: white;
            padding: 40px 30px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            text-align: center;
            max-width: 400px;
            width: 90%;
            margin: 20px;
            max-height: 90vh;
            overflow-y: auto;
        }
        .password-prompt-box .icon-header {
            margin-bottom: 30px;
        }
        .password-prompt-box .icon-header .fas {
            font-size: 3rem;
            color: var(--primary-red);
            margin-bottom: 20px;
        }
        .password-prompt-box h2 {
            color: var(--primary-red);
            margin-bottom: 10px;
        }
        .password-prompt-box p {
            color: var(--text-gray);
            margin-bottom: 0;
        }
    </style>
</head>
<body>
    <div class="page-content">
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="images/logo.png" alt="Heartland Boys Home Logo" class="logo">
                <span class="logo-text">Heartland Boys Home</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item"><a href="index.html" class="nav-link">Home</a></li>
                <li class="nav-item"><a href="about.html" class="nav-link">About</a></li>
                <li class="nav-item"><a href="programs.html" class="nav-link">Programs</a></li>
                <li class="nav-item"><a href="admissions.html" class="nav-link">Admissions</a></li>
                <li class="nav-item"><a href="staff.html" class="nav-link">Staff</a></li>
                <li class="nav-item"><a href="training.html" class="nav-link active">Training</a></li>
                <li class="nav-item"><a href="contact.html" class="nav-link">Contact</a></li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Hero Banner -->
    <section class="training-hero">
        <div class="training-hero-content">
            <div class="staff-only-badge">
                <i class="fas fa-lock"></i> Staff Only
            </div>
            <h1>Training & Growth at Heartland</h1>
            <p>Helping staff grow, so our youth can thrive.</p>
            <a href="#resources" class="btn btn-primary">View Training Resources</a>
        </div>
    </section>

    <!-- Introduction -->
    <section class="training-intro">
        <div class="container">
            <div class="training-intro-content">
                <p>At Heartland Boys Home, we believe staff development is essential to youth development. This page offers access to current training materials, updates, and important protocols for new and ongoing team members. Whether you're new to the program or deepening your expertise, this is your central hub for learning.</p>
            </div>
        </div>
    </section>

    <!-- Upcoming Trainings & Events -->
    <section class="training-section">
        <div class="container">
            <h2 class="section-title">Upcoming Trainings & Events</h2>
            
            <div class="training-card">
                <div style="text-align: center; padding: 40px; color: var(--text-gray);">
                    <i class="fas fa-calendar-plus" style="font-size: 3rem; margin-bottom: 20px; opacity: 0.5;"></i>
                    <p style="font-size: 1.2rem; margin-bottom: 10px;">No upcoming trainings scheduled</p>
                    <p style="font-size: 0.9rem;">Check back soon for new training opportunities</p>
                </div>
            </div>

            <div class="calendar-widget">
                <h3><i class="fas fa-calendar-alt"></i> Training Calendar</h3>
                <div class="calendar-placeholder">
                    <p>Interactive calendar widget will be embedded here<br>
                    <small>Contact IT to integrate with Google Calendar or training management system</small></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Training Resource Library -->
    <section class="training-section" id="resources">
        <div class="container">
            <h2 class="section-title">Training Archive & Materials</h2>
            <p style="text-align: center; margin-bottom: 40px; color: var(--text-gray);">
                Access past training PDFs, protocols, and quick guides here.
            </p>
            
            <!-- Featured Training Courses -->
            <div class="training-courses-grid">
                <div class="training-card">
                    <div class="course-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3>The Art of Trust: Strategies for Authentic Engagement with Troubled Youth</h3>
                    <p class="course-description">
                        Learn proven strategies for building authentic relationships and establishing trust with youth who have experienced trauma and behavioral challenges.
                    </p>
                    <a href="https://app.minilessonsacademy.com/shared/course/13027" 
                       target="_blank" 
                       rel="noopener noreferrer" 
                       class="course-button">
                        <i class="fas fa-external-link-alt"></i>
                        Access Course
                    </a>
                </div>
                
                <div class="training-card">
                    <div class="course-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h3>From Trauma to Triumph: Supporting Youth through Academic Challenges</h3>
                    <p class="course-description">
                        Discover effective methods for helping youth overcome academic obstacles while addressing the underlying trauma that impacts their learning.
                    </p>
                    <a href="https://app.minilessonsacademy.com/shared/course/13046" 
                       target="_blank" 
                       rel="noopener noreferrer" 
                       class="course-button">
                        <i class="fas fa-external-link-alt"></i>
                        Access Course
                    </a>
                </div>
                
                <div class="training-card">
                    <div class="course-icon">
                        <i class="fas fa-bridge"></i>
                    </div>
                    <h3>Building Bridges: Essential Skills for Youth Transitioning from Residential Care</h3>
                    <p class="course-description">
                        Essential skills and strategies for supporting youth as they transition from residential care to independent living and community integration.
                    </p>
                    <a href="https://app.minilessonsacademy.com/shared/course/13042" 
                       target="_blank" 
                       rel="noopener noreferrer" 
                       class="course-button">
                        <i class="fas fa-external-link-alt"></i>
                        Access Course
                    </a>
                </div>
            </div>
            
            <div class="resource-grid">
                <div class="resource-card" style="grid-column: 1 / -1; text-align: center; padding: 40px;">
                    <i class="fas fa-folder-open" style="font-size: 3rem; color: var(--text-light); margin-bottom: 15px;"></i>
                    <h4 style="color: var(--text-gray); font-weight: 500; margin-bottom: 10px;">Additional Training Materials</h4>
                    <p style="color: var(--text-light); margin-bottom: 0;">Additional training resources and documents will be uploaded here for easy staff access.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Feedback & Suggestions -->
    <section class="training-section">
        <div class="container">
            <h2 class="section-title">Suggest a Training Topic</h2>
            <p style="text-align: center; margin-bottom: 40px; color: var(--text-gray);">
                Help us identify training needs and improve our professional development offerings.
            </p>
            
            <form class="feedback-form" id="feedback-form">
                <div class="form-group">
                    <label for="name">Your Name (Optional)</label>
                    <input type="text" id="name" name="name" placeholder="Enter your name">
                </div>
                
                <div class="form-group">
                    <label for="topic">Suggested Training Topic or Resource</label>
                    <input type="text" id="topic" name="topic" placeholder="What training topic would be helpful?" required>
                </div>
                
                <div class="form-group">
                    <label for="reason">How would this help you better support our youth?</label>
                    <textarea id="reason" name="reason" placeholder="Describe how this training would benefit your work with residents..." required></textarea>
                </div>
                
                <div class="form-group">
                    <label for="format">Preferred Format</label>
                    <select id="format" name="format" style="width: 100%; padding: 12px 15px; border: 2px solid var(--border-light); border-radius: 8px; font-size: 1rem;">
                        <option value="">Select preferred format</option>
                        <option value="in-person">In-Person Workshop</option>
                        <option value="virtual">Virtual/Online</option>
                        <option value="self-paced">Self-Paced Materials</option>
                        <option value="no-preference">No Preference</option>
                    </select>
                </div>
                
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-paper-plane"></i> Submit Suggestion
                </button>
            </form>
            <div id="feedback-success" class="form-message success" style="display: none; max-width: 600px; margin: 20px auto 0;">
                <i class="fas fa-check-circle"></i>
                Thank you for your training suggestion! We will review it shortly.
            </div>
            <div id="feedback-error" class="form-message error" style="display: none; max-width: 600px; margin: 20px auto 0;">
                <i class="fas fa-exclamation-triangle"></i>
                Something went wrong. Please try again.
            </div>
        </div>
    </section>

    <!-- Compliance Footer -->
    <section class="compliance-footer">
        <div class="container">
            <p>
                <i class="fas fa-shield-alt"></i> 
                All training materials comply with Nebraska DHHS Residential Child-Caring Agency standards and Heartland Boys Home policy. 
                If you have questions about your training requirements, contact your supervisor for more information.
            </p>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <img src="images/logo.png" alt="Heartland Boys Home Logo" class="logo">
                        <span class="logo-text">Heartland Boys Home</span>
                    </div>
                    <p>Empowering Youth. Restoring Hope. Building Futures.</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="programs.html">Programs</a></li>
                        <li><a href="admissions.html">Admissions</a></li>
                        <li><a href="staff.html">Our Staff</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contact Info</h3>
                    <p><i class="fas fa-map-marker-alt"></i> 904 Road P, Geneva, NE</p>
                    <p><i class="fas fa-phone"></i> (402) 759-4334</p>
                    <p><i class="fas fa-envelope"></i> rschroetlin78@gmail.com</p>
                </div>
                <div class="footer-section">
                    <h3>Staff Resources</h3>
                    <p>This training portal is for internal staff use only. All materials are confidential and proprietary.</p>
                    <div style="margin-top: 15px;">
                        <a href="#resources" class="btn btn-outline">Training Materials</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Heartland Boys Home. All rights reserved. | Staff Training Portal</p>
            </div>
        </div>
    </footer>
    </div> <!-- End page-content -->

    <script>
        // Training page specific script - don't load main script.js to avoid conflicts
        // Handle mobile menu functionality for training page
        document.addEventListener('DOMContentLoaded', function() {
            const hamburger = document.querySelector('.hamburger');
            const navMenu = document.querySelector('.nav-menu');
            
            if (hamburger && navMenu) {
                hamburger.addEventListener('click', function() {
                    hamburger.classList.toggle('active');
                    navMenu.classList.toggle('active');
                });
                
                // Close menu when clicking on a link
                document.querySelectorAll('.nav-link').forEach(n => n.addEventListener('click', () => {
                    hamburger.classList.remove('active');
                    navMenu.classList.remove('active');
                }));
            }
        });
    </script>
    <script>
        // Password Protection System
        // This is a SHA-256 hash of the password. The actual password is not stored here.
        const STAFF_PASSWORD_HASH = '2492a538a25f28b317882856335b80012125c14c714a6323c14828859451432c'; // Hash for 'HeartlandStaff2025'
        const SESSION_KEY = 'heartland_staff_authenticated';
        const MAX_ATTEMPTS = 3;
        const LOCKOUT_TIME = 30 * 60 * 1000; // 30 minutes in milliseconds
        
        function checkAuthentication() {
            // Check if user is locked out
            const lockoutTime = localStorage.getItem('training_lockout');
            if (lockoutTime && Date.now() < parseInt(lockoutTime)) {
                showLockoutMessage();
                return;
            }
            
            // Check if user is already authenticated in this session
            const isAuthenticated = sessionStorage.getItem(SESSION_KEY);
            
            if (!isAuthenticated) {
                showPasswordPrompt();
            } else {
                // User is authenticated, show the page
                document.body.classList.add('authenticated');
            }
        }
        
        function showLockoutMessage() {
            document.body.innerHTML = `
                <div style="
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: #1a1a1a;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    color: #ff4444;
                    font-family: 'Inter', sans-serif;
                    text-align: center;
                ">
                    <div>
                        <i class="fas fa-lock" style="font-size: 4rem; margin-bottom: 20px;"></i>
                        <h2>Access Temporarily Locked</h2>
                        <p>Too many failed attempts. Please try again later.</p>
                    </div>
                </div>
            `;
        }
        
        function showPasswordPrompt() {
            // Create password overlay
            const overlay = document.createElement('div');
            overlay.id = 'password-overlay';
            
            overlay.innerHTML = `
                <div class="password-prompt-box">
                    <div class="icon-header">
                        <i class="fas fa-lock"></i>
                        <h2>Staff Access Required</h2>
                        <p>Please enter the staff password to access training materials.</p>
                    </div>
                    
                    <form id="password-form">
                        <div style="position: relative; margin-bottom: 20px;">
                            <input 
                                type="password" 
                                id="password-input" 
                                placeholder="Enter staff password"
                                style="
                                    width: 100%;
                                    padding: 12px 45px 12px 15px;
                                    border: 2px solid var(--border-light);
                                    border-radius: 8px;
                                    font-size: 1rem;
                                    box-sizing: border-box;
                                "
                                required
                            >
                            <button 
                                type="button"
                                id="toggle-password"
                                style="
                                    position: absolute;
                                    right: 12px;
                                    top: 50%;
                                    transform: translateY(-50%);
                                    background: none;
                                    border: none;
                                    color: var(--text-gray);
                                    cursor: pointer;
                                    font-size: 1rem;
                                    padding: 0;
                                    width: 20px;
                                    height: 20px;
                                    display: flex;
                                    align-items: center;
                                    justify-content: center;
                                "
                                title="Show/Hide Password"
                            >
                                <i class="fas fa-eye" id="eye-icon"></i>
                            </button>
                        </div>
                        <button 
                            type="submit"
                            style="
                                background: var(--primary-red);
                                color: white;
                                border: none;
                                padding: 12px 30px;
                                border-radius: 8px;
                                font-size: 1rem;
                                font-weight: 600;
                                cursor: pointer;
                                width: 100%;
                                transition: background 0.3s ease;
                            "
                            onmouseover="this.style.background='var(--secondary-red)'"
                            onmouseout="this.style.background='var(--primary-red)'"
                        >
                            <i class="fas fa-unlock"></i> Access Training Portal
                        </button>
                    </form>
                    
                    <div id="error-message" style="
                        color: #dc3545;
                        margin-top: 15px;
                        font-size: 0.9rem;
                        display: none;
                    ">
                        <i class="fas fa-exclamation-triangle"></i> Incorrect password. Please try again.
                    </div>
                    
                    <p style="
                        font-size: 0.8rem;
                        color: var(--text-light);
                        margin-top: 20px;
                        margin-bottom: 0;
                    ">
                        Contact your supervisor if you need the password.
                    </p>
                </div>
            `;
            
            document.body.appendChild(overlay);
            document.getElementById('password-input').focus();
            
            // Handle password visibility toggle
            document.getElementById('toggle-password').addEventListener('click', function() {
                const passwordInput = document.getElementById('password-input');
                const eyeIcon = document.getElementById('eye-icon');
                
                if (passwordInput.type === 'password') {
                    passwordInput.type = 'text';
                    eyeIcon.className = 'fas fa-eye-slash';
                    this.title = 'Hide Password';
                } else {
                    passwordInput.type = 'password';
                    eyeIcon.className = 'fas fa-eye';
                    this.title = 'Show Password';
                }
            });
            
            // Handle form submission
            document.getElementById('password-form').addEventListener('submit', async function(e) {
                e.preventDefault();
                const enteredPassword = document.getElementById('password-input').value;
                
                // Hash the entered password using SHA-256
                const encoder = new TextEncoder();
                const data = encoder.encode(enteredPassword);
                const hashBuffer = await crypto.subtle.digest('SHA-256', data);
                const hashArray = Array.from(new Uint8Array(hashBuffer));
                const enteredHash = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');

                // Disable button during check
                const submitButton = this.querySelector('button[type="submit"]');
                submitButton.disabled = true;
                submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Verifying...';

                
                if (enteredHash === STAFF_PASSWORD_HASH) {
                    // Correct password - grant access
                    sessionStorage.setItem(SESSION_KEY, 'true');
                    localStorage.removeItem('training_attempts'); // Clear failed attempts
                    localStorage.removeItem('training_lockout'); // Clear any lockout
                    document.body.classList.add('authenticated');
                    document.body.removeChild(overlay);
                } else {
                    // Wrong password - track attempts
                    let attempts = parseInt(localStorage.getItem('training_attempts') || '0') + 1;
                    localStorage.setItem('training_attempts', attempts.toString());
                    
                    if (attempts >= MAX_ATTEMPTS) {
                        // Lock out user
                        localStorage.setItem('training_lockout', (Date.now() + LOCKOUT_TIME).toString());
                        showLockoutMessage();
                        return;
                    }
                    
                    // Show error with remaining attempts
                    const remainingAttempts = MAX_ATTEMPTS - attempts;
                    document.getElementById('error-message').innerHTML = `
                        <i class="fas fa-exclamation-triangle"></i> 
                        Incorrect password. ${remainingAttempts} attempt${remainingAttempts !== 1 ? 's' : ''} remaining.
                    `;
                    document.getElementById('error-message').style.display = 'block';
                    document.getElementById('password-input').value = '';
                    document.getElementById('password-input').focus();
                    
                    // Shake animation for error
                    const form = document.getElementById('password-form');
                    form.style.animation = 'shake 0.5s ease-in-out';
                    setTimeout(() => {
                        form.style.animation = '';
                    }, 500);

                    // Re-enable button
                    submitButton.disabled = false;
                    submitButton.innerHTML = '<i class="fas fa-unlock"></i> Access Training Portal';
                }
            });
        }
        
        // Check authentication immediately (before DOM is fully loaded)
        try {
            checkAuthentication();
        } catch (error) {
            console.error('Authentication check failed:', error);
            // Fallback: show password prompt if authentication fails
            setTimeout(() => {
                if (!document.body.classList.contains('authenticated')) {
                    showPasswordPrompt();
                }
            }, 100);
        }
        
        // Training-specific JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // Feedback form submission handler
            const feedbackForm = document.getElementById('feedback-form');
            if (feedbackForm) {
                feedbackForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const successMessage = document.getElementById('feedback-success');
                    const errorMessage = document.getElementById('feedback-error');
                    successMessage.style.display = 'none';
                    errorMessage.style.display = 'none';
                    
                    // In a real application, you would send this data to a server.
                    // For this static site, we'll just show a success message.
                    try {
                        // Simulate a successful submission
                        successMessage.style.display = 'block';
                        successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    } catch (error) {
                        errorMessage.style.display = 'block';
                        errorMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                    this.reset();
                });
            }
            
            // Add smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });
        
        // Add shake animation CSS
        const shakeStyle = document.createElement('style');
        shakeStyle.textContent = `
            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                25% { transform: translateX(-5px); }
                75% { transform: translateX(5px); }
            }
        `;
        document.head.appendChild(shakeStyle);
    </script>
</body>
</html>